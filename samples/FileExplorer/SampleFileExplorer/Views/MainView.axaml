<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewModels="clr-namespace:SampleFileExplorer.ViewModels"
             xmlns:classLibrary1="clr-namespace:ClassLibrary1;assembly=ClassLibrary1"
             xmlns:avalonia="clr-namespace:Zafiro.Avalonia;assembly=Zafiro.Avalonia"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="SampleFileExplorer.Views.MainView"
             x:DataType="viewModels:MainViewModel">

    <UserControl.DataTemplates>
        <DataTemplate DataType="classLibrary1:FileItem">
            <DockPanel>
                <Button Command="{Binding Delete}" DockPanel.Dock="Right" Content="Delete"></Button>
                <TextBlock Text="{Binding Name}"></TextBlock>
            </DockPanel>
        </DataTemplate>
        <DataTemplate DataType="classLibrary1:DirectoryItem">
            <DockPanel>
                <!-- <Button Command="{Binding Delete}" DockPanel.Dock="Right" Content="Delete"></Button> -->
                <Button Command="{Binding Navigate}">
                    <Button.Content>
                        <TextBlock Text="{Binding Name}" />
                    </Button.Content>
                </Button>
            </DockPanel>
        </DataTemplate>
    </UserControl.DataTemplates>

    <ItemsControl ItemsSource="{Binding Explorers}">
        <ItemsControl.ItemTemplate>
            <DataTemplate>
                <DockPanel>
                    <StackPanel Orientation="Horizontal" DockPanel.Dock="Top">
                        <TextBox Text="{Binding Address}" />
                        <Button Content="Load" Command="{Binding LoadAddress}" />
                        <Button Content="Go back" Command="{Binding GoBack}" />
                    </StackPanel>
                    <ListBox ItemsSource="{Binding Contents^.Items}" SelectionMode="Multiple">
                        <ListBox.ItemContainerTheme>
                            <ControlTheme BasedOn="{StaticResource {x:Type ListBoxItem}}" TargetType="ListBoxItem">
                                <Setter x:DataType="avalonia:ISelectable" Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}" />
                            </ControlTheme>
                        </ListBox.ItemContainerTheme>
                    </ListBox>
                </DockPanel>
            </DataTemplate>
        </ItemsControl.ItemTemplate>
        <ItemsControl.ItemsPanel>
            <ItemsPanelTemplate>
                <UniformGrid Rows="1" />
            </ItemsPanelTemplate>
        </ItemsControl.ItemsPanel>
    </ItemsControl>

</UserControl>