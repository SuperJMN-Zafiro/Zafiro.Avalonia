<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:avalonia="https://github.com/projektanker/icons.avalonia"
        xmlns:classic="clr-namespace:Zafiro.Avalonia.Controls.Wizards.Slim"
        xmlns:panels="clr-namespace:Zafiro.Avalonia.Controls.Panels">

    <Design.PreviewWith>
        <WizardHeader Width="400">
            <WizardHeader.Wizard>
                <classic:WizardDesign />
            </WizardHeader.Wizard>
        </WizardHeader>
    </Design.PreviewWith>

    <Styles.Resources>
        <ControlTheme x:Key="{x:Type WizardHeader}" TargetType="WizardHeader">
            <Setter Property="Template">
                <ControlTemplate>
                    <StackPanel>
                        <panels:TrueCenterPanel DockPanel.Dock="Top">
                            <EnhancedButton Theme="{StaticResource TransparentButton}"
                                            panels:TrueCenterPanel.Dock="Left"
                                            Opacity="{Binding $self.IsEffectivelyEnabled, Converter={x:Static OpacityConverters.BoolToOpacity}}"
                                            Command="{Binding $parent[SlimWizardControl].Wizard.Back}">
                                <Button.Content>
                                    <DockPanel>
                                        <avalonia:Icon Value="fa-angle-left" />
                                        <TextBlock>Back</TextBlock>
                                    </DockPanel>
                                </Button.Content>
                            </EnhancedButton>
                            <TextBlock FontWeight="Black" TextWrapping="Wrap" TextAlignment="Center" VerticalAlignment="Center" Margin="10" panels:TrueCenterPanel.Dock="Center"
                                       Text="{Binding $parent[SlimWizardControl].Wizard.CurrentPage.Title}" DockPanel.Dock="Top" />
                            <TextBlock FontSize="12" VerticalAlignment="Center" panels:TrueCenterPanel.Dock="Right" Margin="5 0">
                                <TextBlock.Text>
                                    <MultiBinding StringFormat="Step {0} of {1}">
                                        <Binding Path="#StepIndicator.Current" Converter="{x:Static MiscConverters.AddOne}" />
                                        <Binding Path="#StepIndicator.Total" />
                                    </MultiBinding>
                                </TextBlock.Text>
                            </TextBlock>
                        </panels:TrueCenterPanel>
                        <StepIndicator x:Name="StepIndicator" HorizontalAlignment="Center"
                                       panels:TrueCenterPanel.Dock="Center"
                                       IsVisible="{OnFormFactor Mobile=False, Default=True}"
                                       Current="{Binding $parent[SlimWizardControl].Wizard.CurrentPage.Index}"
                                       Total="{Binding $parent[SlimWizardControl].Wizard.TotalPages}" Margin="0 0 0 10">
                        </StepIndicator>
                    </StackPanel>
                </ControlTemplate>
            </Setter>
        </ControlTheme>
    </Styles.Resources>
</Styles>