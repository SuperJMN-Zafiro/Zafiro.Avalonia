<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:sh="clr-namespace:Zafiro.Avalonia.Controls.Shell"
        xmlns:pt="https://github.com/projektanker/icons.avalonia"
        xmlns:c="clr-namespace:Zafiro.Avalonia.Controls"
        xmlns:b="clr-namespace:Zafiro.Avalonia.Behaviors">

    <Design.PreviewWith>
        <sh:ShellView Width="500" Height="500">
            <sh:ShellView.Shell>
                <sh:ShellDesign />
            </sh:ShellView.Shell>
        </sh:ShellView>
    </Design.PreviewWith>

    <Styles.Resources>

        <ControlTheme x:Key="{x:Type sh:ShellView}" TargetType="sh:ShellView">
            <Setter Property="MenuButtonSize" Value="48" />
            <Setter Property="OpenPaneLength" Value="250" />
            <Setter Property="IsPaneOpen" Value="True" />
            <Setter Property="Template">
                <ControlTemplate>
                    <c:ShellSplitView x:Name="ShellSplitView"
                                      IsPaneOpen="{TemplateBinding IsPaneOpen, Mode=TwoWay}"
                                      OpenPaneLength="{TemplateBinding OpenPaneLength}"
                                      PaneHeader="{Binding $parent[sh:ShellView].Shell.Header}"
                                      ContentHeader="{Binding $parent[sh:ShellView].Shell.ContentHeader^}"
                                      Content="{Binding $parent[sh:ShellView].Shell.SelectedSection.Content^}"
                                      ExpandButtonSize="{TemplateBinding MenuButtonSize}">
                        <Interaction.Behaviors>
                            <AdaptiveBehavior SourceControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=c:AdaptiveControl}}">
                                <AdaptiveClassSetter ClassName="Narrow" MinWidth="0" MaxWidth="600" />
                                <AdaptiveClassSetter ClassName="Wide" MinWidth="600" MaxWidth="Infinity" />
                            </AdaptiveBehavior>
                        </Interaction.Behaviors>

                        <c:ShellSplitView.PaneContent>
                            <sh:Sidebar
                                IconMargin="12"
                                IconWidth="{Binding $parent[sh:ShellView].MenuButtonSize}"
                                IconHeight="{Binding $parent[sh:ShellView].MenuButtonSize}"
                                SelectedSection="{Binding $parent[sh:ShellView].Shell.SelectedSection}"
                                Sections="{Binding $parent[sh:ShellView].Shell.Sections}">
                                <sh:Sidebar.Transitions>
                                    <Transitions>
                                        <DoubleTransition Property="SectionSpacing" Duration="0:0:0.1" />
                                    </Transitions>
                                </sh:Sidebar.Transitions>
                                <Interaction.Behaviors>
                                    <PointerReleasedTrigger EventRoutingStrategy="Tunnel">
                                        <b:SetAvaloniaPropertyCurrentValueAction IsEnabled="{Binding $parent[c:ShellSplitView].DisplayMode, Converter={x:Static sh:ShellConverters.IsOverlay}}"
                                                                                 TargetObject="{Binding $parent[sh:ShellView]}"
                                                                                 Value="False"
                                                                                 TargetProperty="{x:Static sh:ShellView.IsPaneOpenProperty}" />
                                    </PointerReleasedTrigger>
                                </Interaction.Behaviors>
                            </sh:Sidebar>
                        </c:ShellSplitView.PaneContent>
                    </c:ShellSplitView>
                </ControlTemplate>
            </Setter>
            <Style Selector="^ /template/ c|ShellSplitView.Narrow">
                <Setter Property="DisplayMode" Value="Overlay" />
            </Style>
            <Style Selector="^ /template/ c|ShellSplitView.Wide">
                <Setter Property="DisplayMode" Value="CompactInline" />
            </Style>
        </ControlTheme>
    </Styles.Resources>


    <Style Selector="sh|ShellView ToggleButton">
        <Setter Property="pt:Attached.Icon" Value="mdi-menu" />
        <Setter Property="FontSize" Value="25" />
    </Style>


</Styles>