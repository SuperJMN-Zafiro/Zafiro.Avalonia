<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:shell="clr-namespace:Zafiro.Avalonia.Shell"
        xmlns:sh="clr-namespace:Zafiro.Avalonia.Controls.Shell"
        xmlns:avalonia="https://github.com/projektanker/icons.avalonia">

    <Design.PreviewWith>
        <shell:ShellView Width="400">
            <shell:ShellView.Shell>
                <sh:ShellDesign />
            </shell:ShellView.Shell>
        </shell:ShellView>
    </Design.PreviewWith>

    <Style Selector="shell|ShellView">
        <Setter Property="Template">
            <ControlTemplate>
                <SplitView CompactPaneLength="40" OpenPaneLength="200" x:Name="SplitView" DisplayMode="CompactInline" IsPaneOpen="{Binding #ToggleButton.IsChecked}">
                    <SplitView.Pane>
                        <DockPanel>
                            <ToggleButton Height="{Binding $self.Width}" Width="{Binding #SplitView.CompactPaneLength}" DockPanel.Dock="Top" x:Name="ToggleButton" avalonia:Attached.Icon="fa-bars" />
                            <sh:Sidebar IconWidth="{Binding #ToggleButton.Width}"
                                        IconHeight="{Binding #ToggleButton.Height}"
                                        SelectedSection="{Binding $parent[shell:ShellView].Shell.SelectedSection}" Sections="{Binding $parent[shell:ShellView].Shell.Sections}" />
                        </DockPanel>
                    </SplitView.Pane>
                    <ContentControl Content="{Binding $parent[shell:ShellView].Shell.SelectedSection.Content^}" ClipToBounds="False" />
                </SplitView>
            </ControlTemplate>
        </Setter>
    </Style>
</Styles>