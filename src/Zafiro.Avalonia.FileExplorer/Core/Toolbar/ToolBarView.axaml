<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:controls="clr-namespace:Zafiro.Avalonia.Controls;assembly=Zafiro.Avalonia"
             xmlns:converters="clr-namespace:Zafiro.Avalonia.Converters;assembly=Zafiro.Avalonia"
             xmlns:toolbar="clr-namespace:Zafiro.Avalonia.FileExplorer.Core.Toolbar"
             xmlns:t="clr-namespace:Zafiro.Avalonia.FileExplorer.Core.Transfers"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Zafiro.Avalonia.FileExplorer.Core.Toolbar.ToolBarView"
             x:CompileBindings="True"
             x:DataType="toolbar:ToolBarViewModel">
    <UserControl.Resources>
        <DrawingGroup x:Key="copy_xaml">
            <DrawingGroup.ClipGeometry>
                <RectangleGeometry Rect="0.0,0.0,1920.0,1920.0" />
            </DrawingGroup.ClipGeometry>
            <GeometryDrawing Brush="{DynamicResource Accent}">
                <GeometryDrawing.Geometry>
                    <PathGeometry
                        Figures="M 0 1919.89 h 1467.88 V 452.008 H 0 v 1467.88 Z M 1354.96 564.922 v 1242.05 H 112.914 V 564.922 h 1242.05 Z M 1920 0 v 1467.99 h -338.741 v -113.027 h 225.827 V 112.914 H 565.035 V 338.74 H 452.008 V 0 H 1920 Z M 338.741 1016.93 h 790.397 V 904.016 H 338.74 v 112.914 Z m 0 451.062 h 790.397 v -113.027 H 338.74 v 113.027 Z m 0 -225.588 h 564.57 v -112.913 H 338.74 v 112.913 Z" />
                </GeometryDrawing.Geometry>
            </GeometryDrawing>
        </DrawingGroup>
        <DrawingImage Drawing="{StaticResource copy_xaml}" x:Key="di_copy_xaml" />

        <DrawingGroup x:Key="bin_svgrepo_com_xaml">
            <DrawingGroup.ClipGeometry>
                <RectangleGeometry Rect="0.0,0.0,24.0,24.0" />
            </DrawingGroup.ClipGeometry>
            <GeometryDrawing Brush="{DynamicResource Accent}">
                <GeometryDrawing.Geometry>
                    <PathGeometry
                        Figures="M 1.5 3.75 C 1.08579 3.75 0.75 4.08579 0.75 4.5 C 0.75 4.91421 1.08579 5.25 1.5 5.25 V 3.75 Z M 22.5 5.25 C 22.9142 5.25 23.25 4.91421 23.25 4.5 C 23.25 4.08579 22.9142 3.75 22.5 3.75 V 5.25 Z M 1.5 5.25 H 22.5 V 3.75 H 1.5 V 5.25 Z"
                        FillRule="NonZero" />
                </GeometryDrawing.Geometry>
            </GeometryDrawing>
            <GeometryDrawing Brush="{DynamicResource Accent}">
                <GeometryDrawing.Geometry>
                    <PathGeometry
                        Figures="M 9.75 1.5 V 0.75 V 1.5 Z M 8.25 3 H 7.5 H 8.25 Z M 7.5 4.5 C 7.5 4.91421 7.83579 5.25 8.25 5.25 C 8.66421 5.25 9 4.91421 9 4.5 H 7.5 Z M 15 4.5 C 15 4.91421 15.3358 5.25 15.75 5.25 C 16.1642 5.25 16.5 4.91421 16.5 4.5 H 15 Z M 15.75 3 H 16.5 H 15.75 Z M 14.25 0.75 H 9.75 V 2.25 H 14.25 V 0.75 Z M 9.75 0.75 C 9.15326 0.75 8.58097 0.987053 8.15901 1.40901 L 9.21967 2.46967 C 9.36032 2.32902 9.55109 2.25 9.75 2.25 V 0.75 Z M 8.15901 1.40901 C 7.73705 1.83097 7.5 2.40326 7.5 3 H 9 C 9 2.80109 9.07902 2.61032 9.21967 2.46967 L 8.15901 1.40901 Z M 7.5 3 V 4.5 H 9 V 3 H 7.5 Z M 16.5 4.5 V 3 H 15 V 4.5 H 16.5 Z M 16.5 3 C 16.5 2.40326 16.2629 1.83097 15.841 1.40901 L 14.7803 2.46967 C 14.921 2.61032 15 2.80109 15 3 H 16.5 Z M 15.841 1.40901 C 15.419 0.987053 14.8467 0.75 14.25 0.75 V 2.25 C 14.4489 2.25 14.6397 2.32902 14.7803 2.46967 L 15.841 1.40901 Z"
                        FillRule="NonZero" />
                </GeometryDrawing.Geometry>
            </GeometryDrawing>
            <GeometryDrawing Brush="{DynamicResource Accent}">
                <GeometryDrawing.Geometry>
                    <PathGeometry
                        Figures="M 9 17.25 C 9 17.6642 9.33579 18 9.75 18 C 10.1642 18 10.5 17.6642 10.5 17.25 H 9 Z M 10.5 9.75 C 10.5 9.33579 10.1642 9 9.75 9 C 9.33579 9 9 9.33579 9 9.75 H 10.5 Z M 10.5 17.25 V 9.75 H 9 V 17.25 H 10.5 Z"
                        FillRule="NonZero" />
                </GeometryDrawing.Geometry>
            </GeometryDrawing>
            <GeometryDrawing Brush="{DynamicResource Accent}">
                <GeometryDrawing.Geometry>
                    <PathGeometry
                        Figures="M 13.5 17.25 C 13.5 17.6642 13.8358 18 14.25 18 C 14.6642 18 15 17.6642 15 17.25 H 13.5 Z M 15 9.75 C 15 9.33579 14.6642 9 14.25 9 C 13.8358 9 13.5 9.33579 13.5 9.75 H 15 Z M 15 17.25 V 9.75 H 13.5 V 17.25 H 15 Z"
                        FillRule="NonZero" />
                </GeometryDrawing.Geometry>
            </GeometryDrawing>
            <GeometryDrawing Brush="{DynamicResource Accent}">
                <GeometryDrawing.Geometry>
                    <PathGeometry
                        Figures="M 18.865 21.124 L 18.1176 21.0617 L 18.1176 21.062 L 18.865 21.124 Z M 17.37 22.5 L 17.3701 21.75 H 17.37 V 22.5 Z M 6.631 22.5 V 21.75 H 6.63093 L 6.631 22.5 Z M 5.136 21.124 L 5.88343 21.062 L 5.88341 21.0617 L 5.136 21.124 Z M 4.49741 4.43769 C 4.46299 4.0249 4.10047 3.71818 3.68769 3.75259 C 3.2749 3.78701 2.96818 4.14953 3.00259 4.56231 L 4.49741 4.43769 Z M 20.9974 4.56227 C 21.0318 4.14949 20.7251 3.78698 20.3123 3.75259 C 19.8995 3.7182 19.537 4.02495 19.5026 4.43773 L 20.9974 4.56227 Z M 18.1176 21.062 C 18.102 21.2495 18.0165 21.4244 17.878 21.5518 L 18.8939 22.6555 C 19.3093 22.2732 19.5658 21.7486 19.6124 21.186 L 18.1176 21.062 Z M 17.878 21.5518 C 17.7396 21.6793 17.5583 21.75 17.3701 21.75 L 17.3699 23.25 C 17.9345 23.25 18.4785 23.0379 18.8939 22.6555 L 17.878 21.5518 Z M 17.37 21.75 H 6.631 V 23.25 H 17.37 V 21.75 Z M 6.63093 21.75 C 6.44274 21.75 6.26142 21.6793 6.12295 21.5518 L 5.10713 22.6555 C 5.52253 23.0379 6.06649 23.25 6.63107 23.25 L 6.63093 21.75 Z M 6.12295 21.5518 C 5.98449 21.4244 5.89899 21.2495 5.88343 21.062 L 4.38857 21.186 C 4.43524 21.7486 4.69172 22.2732 5.10713 22.6555 L 6.12295 21.5518 Z M 5.88341 21.0617 L 4.49741 4.43769 L 3.00259 4.56231 L 4.38859 21.1863 L 5.88341 21.0617 Z M 19.5026 4.43773 L 18.1176 21.0617 L 19.6124 21.1863 L 20.9974 4.56227 L 19.5026 4.43773 Z"
                        FillRule="NonZero" />
                </GeometryDrawing.Geometry>
            </GeometryDrawing>
        </DrawingGroup>
        <DrawingImage Drawing="{StaticResource bin_svgrepo_com_xaml}" x:Key="di_bin_svgrepo_com_xaml" />

        <DrawingGroup x:Key="paste_xaml">
            <DrawingGroup.ClipGeometry>
                <RectangleGeometry Rect="0.0,0.0,24.0,24.0" />
            </DrawingGroup.ClipGeometry>
            <GeometryDrawing Brush="{DynamicResource Accent}">
                <GeometryDrawing.Geometry>
                    <PathGeometry
                        Figures="M 3 21 h 5 v -1 H 4 V 4 h 2 v 2 h 10 V 4 h 2 v 3 h 0.4 a 0.989 0.989 0 0 1 0.6 0.221 V 3 h -3 V 2 h -3 a 2 2 0 0 0 -4 0 H 6 v 1 H 3 z M 7 3 h 3 V 1.615 A 0.615 0.615 0 0 1 10.614 1 h 0.771 a 0.615 0.615 0 0 1 0.615 0.615 V 3 h 3 v 2 H 7 z m 4 14 h 9 v 1 h -9 z M 9 8 v 16 h 13 V 11.6 L 18.4 8 z m 12 15 H 10 V 9 h 7 v 4 h 4 z m 0 -11 h -3 V 9 h 0.31 L 21 11.69 z m -10 2 h 9 v 1 h -9 z m 0 6 h 7 v 1 h -7 z"
                        FillRule="NonZero" />
                </GeometryDrawing.Geometry>
            </GeometryDrawing>
            <GeometryDrawing>
                <GeometryDrawing.Geometry>
                    <PathGeometry Figures="M 0 0 h 24 v 24 H 0 z" FillRule="NonZero" />
                </GeometryDrawing.Geometry>
            </GeometryDrawing>
        </DrawingGroup>
        <DrawingImage Drawing="{StaticResource paste_xaml}" x:Key="di_paste_xaml" />

        <StreamGeometry x:Key="Unchecked">m 6.84766 3.00195 c -1.12011 0 -1.76417 -0.031023 -2.38086 0.283203 C 3.97771 3.53435 3.58122 3.93279 3.33203 4.42188 C 3.23994 4.60261 3.17707 4.79523 3.13672 4.99609 C 3.03938 5.48061 3.04883 6.01089 3.04883 6.80273 v 7.59961 c 0 1.1201 -0.030919 1.76245 0.283203 2.37891 c 0.249081 0.488835 0.64522 0.887348 1.13477 1.13672 c 0.616234 0.314028 1.261 0.283203 2.37891 0.283203 h 7.60547 c 1.1179 0 1.76099 0.03069 2.37695 -0.283203 c 0.48937 -0.249302 0.887475 -0.647462 1.13672 -1.13672 c 0.314189 -0.61656 0.283203 -1.25881 0.283203 -2.37891 V 6.80078 c 0 -1.12009 0.03097 -1.76235 -0.283203 -2.37891 C 17.7155 3.93233 17.317 3.53424 16.8281 3.28516 C 16.2117 2.97103 15.5693 3.00195 14.4492 3.00195 Z m 0 1.19922 h 7.60156 c 1.1201 0 1.59484 0.030486 1.83398 0.152344 c 0.263764 0.134399 0.479253 0.350168 0.613281 0.613281 c 0.121827 0.239081 0.152344 0.713896 0.152344 1.83398 v 7.60156 c 0 1.1201 -0.03053 1.59495 -0.152344 1.83398 c -0.134155 0.263343 -0.350052 0.479184 -0.613281 0.613281 c -0.238832 0.121707 -0.714132 0.152344 -1.83203 0.152344 H 6.8457 c -1.11791 0 -1.59542 -0.03077 -1.83398 -0.152344 C 4.7486 16.7156 4.53479 16.502 4.40039 16.2383 C 4.27853 15.9991 4.24805 15.5224 4.24805 14.4023 V 6.80273 c 0 -0.791841 0.00777 -1.28817 0.064453 -1.57031 c 0.023499 -0.116967 0.052209 -0.195597 0.087891 -0.265625 C 4.53468 4.70322 4.74814 4.48781 5.01172 4.35352 C 5.25067 4.23176 5.72755 4.20117 6.84766 4.20117 Z M 20.6719 6.75977 A 0.6 0.6 0 0 0 20.0723 7.35938 v 7.59961 c 0 0.56005 -0.00044 1.60827 -0.02734 2.5625 c -0.01345 0.477118 -0.03347 0.931211 -0.0625 1.2793 c -0.01452 0.174043 -0.03205 0.323108 -0.04883 0.425781 c -0.01678 0.102674 -0.0528 0.176394 -0.01367 0.09961 a 0.60006 0.60006 0 0 0 0 0.002 c -0.134156 0.263343 -0.348099 0.47723 -0.611328 0.611328 c -0.238832 0.121707 -0.714133 0.152344 -1.83203 0.152344 H 7.12109 a 0.6 0.6 0 0 0 -0.599609 0.599609 a 0.6 0.6 0 0 0 0.599609 0.59961 H 17.4766 c 1.1179 0 1.76099 0.03069 2.37695 -0.283204 c 0.488949 -0.249087 0.88548 -0.648038 1.13477 -1.13672 c 0.09363 -0.183734 0.10591 -0.298489 0.13086 -0.451172 c 0.02495 -0.152684 0.04245 -0.324078 0.05859 -0.517578 c 0.03228 -0.387001 0.05456 -0.856313 0.06836 -1.3457 c 0.0276 -0.978781 0.02734 -2.03761 0.02734 -2.59766 V 7.35938 A 0.6 0.6 0 0 0 20.6719 6.75977 Z</StreamGeometry>
        <StreamGeometry x:Key="Checked">m 6.84766 3.00195 c -1.12011 0 -1.76417 -0.031023 -2.38086 0.283203 C 3.97771 3.53435 3.58122 3.93279 3.33203 4.42188 C 3.23994 4.60261 3.17707 4.79523 3.13672 4.99609 C 3.03938 5.48061 3.04883 6.01089 3.04883 6.80273 v 7.59961 c 0 1.1201 -0.030919 1.76245 0.283203 2.37891 c 0.249081 0.488835 0.64522 0.887348 1.13477 1.13672 c 0.616234 0.314028 1.261 0.283203 2.37891 0.283203 h 7.60547 c 1.1179 0 1.76099 0.03069 2.37695 -0.283203 c 0.48937 -0.249302 0.887475 -0.647462 1.13672 -1.13672 c 0.314189 -0.61656 0.283203 -1.25881 0.283203 -2.37891 V 6.80078 c 0 -1.12009 0.03097 -1.76235 -0.283203 -2.37891 C 17.7155 3.93233 17.317 3.53424 16.8281 3.28516 C 16.2117 2.97103 15.5693 3.00195 14.4492 3.00195 Z m 0 1.19922 h 7.60156 c 1.1201 0 1.59484 0.030486 1.83398 0.152344 c 0.263764 0.134399 0.479253 0.350168 0.613281 0.613281 c 0.121827 0.239081 0.152344 0.713896 0.152344 1.83398 v 7.60156 c 0 1.1201 -0.03053 1.59495 -0.152344 1.83398 c -0.134155 0.263343 -0.350052 0.479184 -0.613281 0.613281 c -0.238832 0.121707 -0.714132 0.152344 -1.83203 0.152344 H 6.8457 c -1.11791 0 -1.59542 -0.03077 -1.83398 -0.152344 C 4.7486 16.7156 4.53479 16.502 4.40039 16.2383 C 4.27853 15.9991 4.24805 15.5224 4.24805 14.4023 V 6.80273 c 0 -0.791841 0.00777 -1.28817 0.064453 -1.57031 c 0.023499 -0.116967 0.052209 -0.195597 0.087891 -0.265625 C 4.53468 4.70322 4.74814 4.48781 5.01172 4.35352 C 5.25067 4.23176 5.72755 4.20117 6.84766 4.20117 Z M 20.6719 6.75977 A 0.6 0.6 0 0 0 20.0723 7.35938 v 7.59961 c 0 0.56005 -0.00044 1.60827 -0.02734 2.5625 c -0.01345 0.477118 -0.03347 0.931211 -0.0625 1.2793 c -0.01452 0.174043 -0.03205 0.323108 -0.04883 0.425781 c -0.01678 0.102674 -0.0528 0.176394 -0.01367 0.09961 a 0.60006 0.60006 0 0 0 0 0.002 c -0.134156 0.263343 -0.348099 0.47723 -0.611328 0.611328 c -0.238832 0.121707 -0.714133 0.152344 -1.83203 0.152344 H 7.12109 a 0.6 0.6 0 0 0 -0.599609 0.599609 a 0.6 0.6 0 0 0 0.599609 0.59961 H 17.4766 c 1.1179 0 1.76099 0.03069 2.37695 -0.283204 c 0.488949 -0.249087 0.88548 -0.648038 1.13477 -1.13672 c 0.09363 -0.183734 0.10591 -0.298489 0.13086 -0.451172 c 0.02495 -0.152684 0.04245 -0.324078 0.05859 -0.517578 c 0.03228 -0.387001 0.05456 -0.856313 0.06836 -1.3457 c 0.0276 -0.978781 0.02734 -2.03761 0.02734 -2.59766 V 7.35938 A 0.6 0.6 0 0 0 20.6719 6.75977 Z M 13.6484 8.00195 A 0.6 0.6 0 0 0 13.2246 8.17773 L 9.64844 11.7539 L 8.07227 10.1777 a 0.6 0.6 0 0 0 -0.847656 0 a 0.6 0.6 0 0 0 0 0.847657 l 2 2 a 0.60006 0.60006 0 0 0 0.847657 0 l 4 -4 a 0.6 0.6 0 0 0 0 -0.847656 a 0.6 0.6 0 0 0 -0.423828 -0.175781 z</StreamGeometry>

    </UserControl.Resources>

    <UserControl.Styles>
        <Style Selector="Button">
            <Setter Property="Padding" Value="6" />
            <Setter Property="VerticalAlignment" Value="Stretch" />
        </Style>
        <Style Selector="Image">
            <Setter Property="Height" Value="16" />
            <Setter Property="VerticalAlignment" Value="Center" />
        </Style>
        <Style Selector="PathIcon">
            <Setter Property="Height" Value="16" />
            <Setter Property="VerticalAlignment" Value="Center" />
        </Style>
        <Style Selector="TextBlock">
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Margin" Value="4" />
        </Style>
        <Style Selector="ToggleButton#ToggleButton:unchecked PathIcon">
            <Setter Property="Data" Value="{StaticResource Unchecked}" />
        </Style>
        <Style Selector="ToggleButton#ToggleButton:checked PathIcon">
            <Setter Property="Data" Value="{StaticResource Checked}" />
        </Style>
    </UserControl.Styles>

    <StackPanel Orientation="Horizontal" Height="40">
        <Button Theme="{StaticResource TransparentButton}" Command="{Binding CreateDirectory}">
            <Button.Content>
                <DockPanel>
                    <Image Source="{StaticResource di_copy_xaml}" />
                    <TextBlock>New directory</TextBlock>
                </DockPanel>
            </Button.Content>
        </Button>
        <Button Theme="{StaticResource TransparentButton}" Command="{Binding Context.Copy^}">
            <Button.Content>
                <DockPanel>
                    <Image Source="{StaticResource di_copy_xaml}" />
                    <TextBlock>Copy</TextBlock>
                </DockPanel>
            </Button.Content>
        </Button>
        <Button Theme="{StaticResource TransparentButton}" Command="{Binding Context.Paste^}">
            <Button.Content>
                <Panel>
                    <DockPanel>
                        <Image Source="{StaticResource di_paste_xaml}" />
                        <TextBlock>Paste</TextBlock>

                    </DockPanel>
                    <ProgressBar Margin="0 0 0 -3" IsIndeterminate="True" IsVisible="{Binding IsPasting^}"
                                 MinWidth="0" VerticalAlignment="Bottom" />
                </Panel>
            </Button.Content>
        </Button>
        <Button Theme="{StaticResource TransparentButton}" Command="{Binding Context.Delete^}">
            <Button.Content>
                <DockPanel>
                    <Image Source="{StaticResource di_bin_svgrepo_com_xaml}" />
                    <TextBlock>Delete</TextBlock>
                </DockPanel>
            </Button.Content>
        </Button>
        <ToggleButton x:Name="ToggleButton" Theme="{StaticResource TransparentButton}" ToolTip.Tip="Enable Select Mode"
                      IsChecked="{Binding Context.IsSelectionEnabled, Mode=TwoWay}">
            <ToggleButton.Content>
                <TextBlock VerticalAlignment="Center">Select</TextBlock>
            </ToggleButton.Content>
        </ToggleButton>
        <controls:SelectionControl Selection="{Binding Context.SelectionContext}"
                                   IsVisible="{Binding #ToggleButton.IsChecked}" />
        <Button IsEnabled="{Binding IsTransferring^}" 
                Opacity="{Binding IsTransferring^, FallbackValue=0, Converter={x:Static converters:BoolOpacityConverters.BoolToOpacity}}" DataContext="{Binding Context.TransferManager}" 
                Theme="{StaticResource TransparentButton}" 
                x:Name="TransfersButton">
            <Button.Flyout>
                <Flyout Placement="Bottom">
                    <t:TransferManagerView  />
                </Flyout>
            </Button.Flyout>
            <controls:ProgressCircle Stroke="{DynamicResource Accent}" 
                                     StrokeThickness="1" 
                                     Width="30"
                                     Fill="{DynamicResource SystemAccentColor}" 
                                     Progress="{Binding Progress^}" />
            <Button.Transitions>
                <Transitions>
                    <DoubleTransition Property="Opacity" Duration="0:0:1"></DoubleTransition>
                </Transitions>
            </Button.Transitions>
        </Button>
    </StackPanel>
</UserControl>